var __extends=this&&this.__extends||function(e,a){function i(){this.constructor=e}for(var t in a)a.hasOwnProperty(t)&&(e[t]=a[t]);e.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)},annieUI;!function(e){var a=annie.Sprite,i=annie.Shape,t=function(e){function t(t,s,n,p){void 0===p&&(p=!0),e.call(this),this.isVertical=!0,this.viewWidth=0,this.viewHeight=0,this.maxDistance=1040,this.distance=0,this.minDis=2,this.maskObj=null,this.view=null,this.lastValue=0,this.speed=0,this.addSpeed=0,this.isStop=!0,this.maxSpeed=100,this.fSpeed=20,this.paramXY="y",this.stopTimes=-1,this.isMouseDown=!1;var o=this;o.isVertical=p,o.view=new a,o.maskObj=new i,o.view.mask=o.maskObj,o.setMask(t,s),o.maskObj.alpha=0,o.addChild(o.maskObj),o.addChild(o.view),o.maxDistance=n,o.addEventListener(annie.MouseEvent.MOUSE_DOWN,o.onMouseEvent.bind(o)),o.addEventListener(annie.MouseEvent.MOUSE_MOVE,o.onMouseEvent.bind(o)),o.addEventListener(annie.MouseEvent.MOUSE_UP,o.onMouseEvent.bind(o)),o.addEventListener(annie.MouseEvent.MOUSE_OUT,o.onMouseEvent.bind(o)),o.addEventListener(annie.Event.ENTER_FRAME,function(){var e=o.view;o.isStop?o.stopTimes>=0&&(o.stopTimes++,o.stopTimes>=15&&(o.speed=0,(e[o.paramXY]>0||e[o.paramXY]<o.distance-o.maxDistance)&&(o.isStop=!1,o.stopTimes=-1))):Math.abs(o.speed)>0?(e[o.paramXY]+=o.speed,e[o.paramXY]>0||e[o.paramXY]<o.distance-o.maxDistance?o.speed+=o.addSpeed*o.fSpeed:o.speed+=o.addSpeed,o.speed*o.addSpeed>0&&(o.speed=0)):e[o.paramXY]>0||e[o.paramXY]<o.distance-o.maxDistance?o.addSpeed<0?(e[o.paramXY]+=.4*(0-e[o.paramXY]),Math.abs(e[o.paramXY])<.2&&(o.isStop=!0)):(e[o.paramXY]+=.4*(o.distance-o.maxDistance-e[o.paramXY]),Math.abs(o.distance-o.maxDistance-e[o.paramXY])<.2&&(o.isStop=!0)):o.isStop=!0})}return __extends(t,e),t.prototype.changeDirection=function(e){void 0===e&&(e=!0);var a=this;a.isVertical=e,e?(a.distance=a.viewHeight,a.paramXY="y"):(a.distance=a.viewWidth,a.paramXY="x")},t.prototype.setMask=function(e,a){var i=this;i.maskObj.clear(),i.maskObj.beginFill("#000000"),i.maskObj.rect(0,0,e,a),i.viewWidth=e,i.viewHeight=a,i.maskObj.endFill(),i.isVertical?(i.distance=i.viewHeight,i.paramXY="y"):(i.distance=i.viewWidth,i.paramXY="x")},t.prototype.onMouseEvent=function(e){var a=this,i=a.view;if(a.distance<a.maxDistance)if(e.type==annie.MouseEvent.MOUSE_DOWN)a.isStop||(a.isStop=!0),a.isVertical?a.lastValue=e.localY:a.lastValue=e.localX,a.speed=0,a.isMouseDown=!0;else if(e.type==annie.MouseEvent.MOUSE_MOVE){if(!a.isMouseDown)return;var t;if(t=a.isVertical?e.localY:e.localX,a.speed=t-a.lastValue,a.speed>a.minDis?(a.addSpeed=-2,a.speed>a.maxSpeed&&(a.speed=a.maxSpeed)):a.speed<-a.minDis?(a.speed<-a.maxSpeed&&(a.speed=-a.maxSpeed),a.addSpeed=2):a.speed=0,0!=a.speed){var s=1;(i[a.paramXY]>0||i[a.paramXY]<a.distance-a.maxDistance)&&(s=.2),i[a.paramXY]+=(t-a.lastValue)*s}a.lastValue=t,a.stopTimes=0}else a.isMouseDown=!1,a.isStop=!1,a.stopTimes=-1},t}(a);e.ScrollPage=t}(annieUI||(annieUI={}));var annieUI;!function(e){var a=annie.Sprite,i=function(e){function a(){e.call(this),this.maskType=0;var a=this;a.photo=new Image,a.bitmap=new annie.Bitmap,a.maskObj=new annie.Shape,a.photo.onload=function(e){if(a.bitmap.bitmapData=a.photo,a.maskObj.clear(),a.maskObj.beginFill("#000000"),0==a.maskType)a.bitmap.scaleX=a.bitmap.scaleY=2*a.radio/a.photo.width,a.maskObj.circle(a.radio,a.radio,a.radio);else{var i=a.photo.width>a.photo.height?a.photo.width:a.photo.height;a.bitmap.scaleX=a.bitmap.scaleY=a.radio/i,a.maskObj.rect(0,0,a.radio,a.radio)}a.maskObj.endFill()},a.addChild(a.bitmap),a.bitmap.mask=a.maskObj}return __extends(a,e),a.prototype.init=function(e,a,i){void 0===a&&(a=0),void 0===i&&(i=0),this.radio=a,this.photo.src=e,this.maskType=i},a}(a);e.FacePhoto=i}(annieUI||(annieUI={}));